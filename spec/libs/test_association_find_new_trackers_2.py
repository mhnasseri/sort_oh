import unittest
import numpy as np
from libs import association

class TestAssociation(unittest.TestCase):
    def test_find_new_trackers_2(self):
        test_data = [
            {"detections": [[1480.3, 413.27, 1600.56, 776.04, 0.87614]], "detections_before": [[1480.3, 413.27, 1600.56, 776.04, 0.80295], [643.66, 461.78, 703.289, 642.67, 0.74373]], "detections_before_before": [[1480.3, 413.27, 1600.56, 776.04, 0.65959]], "average_area": [33416.426909973314], "iou_threshold": 0.3, "iteration": 0, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "detections_before": [[729.81, 446.86, 771.6809999999999, 574.47, 0.45047], [1255.0, 441.39, 1291.321, 552.35, 0.39539], [454.06, 434.36, 551.552, 728.83, 0.36475]], "detections_before_before": [[454.06, 434.36, 551.552, 728.83, 0.48616], [1254.6, 446.72, 1288.422, 550.19, 0.35682], [657.86, 419.0, 731.503, 641.9300000000001, 0.32016]], "average_area": [41899.645008540414], "iou_threshold": 0.3, "iteration": 1, "return_matches": [[0, 1, 1], [2, 2, 0]], "return_del_ind": [[0, 1, 1], [2, 2, 0]]},
            {"detections": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "detections_before_before": [[729.81, 446.86, 771.6809999999999, 574.47, 0.45047], [1255.0, 441.39, 1291.321, 552.35, 0.39539], [454.06, 434.36, 551.552, 728.83, 0.36475]], "average_area": [43632.14584964385], "iou_threshold": 0.3, "iteration": 2, "return_matches": [[0, 2, 2], [1, 0, 1], [2, 1, 0]], "return_del_ind": [[0, 2, 2], [1, 0, 1], [2, 1, 0]]},
            {"detections": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "detections_before": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "average_area": [42257.88713731571], "iou_threshold": 0.3, "iteration": 3, "return_matches": [[0, 2, 1], [1, 1, 0], [2, 0, 2]], "return_del_ind": [[0, 2, 1], [1, 1, 0], [2, 0, 2]]},
            {"detections": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "detections_before": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "detections_before_before": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "average_area": [40780.42096181836], "iou_threshold": 0.3, "iteration": 4, "return_matches": [[0, 1, 1], [1, 0, 2]], "return_del_ind": [[0, 1, 1], [1, 0, 2]]},
            {"detections": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "detections_before": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "detections_before_before": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "average_area": [41242.063343166206], "iou_threshold": 0.3, "iteration": 5, "return_matches": [[0, 1, 0], [1, 0, 1]], "return_del_ind": [[0, 1, 0], [1, 0, 1]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "detections_before": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "detections_before_before": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "average_area": [44227.14630929491], "iou_threshold": 0.3, "iteration": 6, "return_matches": [[0, 1, 0], [1, 0, 1]], "return_del_ind": [[0, 1, 0], [1, 0, 1]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [729.81, 446.86, 771.6809999999999, 574.47, 0.52778], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "detections_before_before": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "average_area": [44914.9080941074], "iou_threshold": 0.3, "iteration": 7, "return_matches": [[0, 0, 1], [1, 1, 0]], "return_del_ind": [[0, 0, 1], [1, 1, 0]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132], [729.81, 446.86, 771.6809999999999, 574.47, 0.33441]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [729.81, 446.86, 771.6809999999999, 574.47, 0.52778], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "average_area": [46961.41488824861], "iou_threshold": 0.3, "iteration": 8, "return_matches": [[0, 0, 0], [2, 1, 1]], "return_del_ind": [[0, 0, 0], [2, 1, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "average_area": [35233.49032028802], "iou_threshold": 0.3, "iteration": 9, "return_matches": [[0, 1, 1]], "return_del_ind": [[0, 1, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132]], "average_area": [33987.1930667672], "iou_threshold": 0.3, "iteration": 10, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "average_area": [34807.352144271434], "iou_threshold": 0.3, "iteration": 11, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[473.76, 454.06, 571.252, 748.53, 0.75093]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "average_area": [34988.46766943957], "iou_threshold": 0.3, "iteration": 12, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[478.86, 442.1, 569.756, 716.79, 1.1515]], "detections_before": [[473.76, 454.06, 571.252, 748.53, 0.75093]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "average_area": [32697.497424139863], "iou_threshold": 0.3, "iteration": 13, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.57398]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.39383]], "average_area": [38227.43009144287], "iou_threshold": 0.3, "iteration": 14, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.57398]], "average_area": [37521.95254768199], "iou_threshold": 0.3, "iteration": 15, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.0, 457.0, 760.0, 576.0, 0.61912]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "average_area": [37933.0836814937], "iou_threshold": 0.3, "iteration": 16, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.0, 457.0, 760.0, 576.0, 0.34328]], "detections_before": [[721.0, 457.0, 760.0, 576.0, 0.61912]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "average_area": [36387.005629979845], "iou_threshold": 0.3, "iteration": 17, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1450.0, 429.71, 1491.871, 557.3199999999999, 0.9037]], "detections_before": [[1443.8, 432.91, 1488.748, 569.75, 0.70279], [601.19, 446.86, 685.932, 703.09, 1.2662]], "detections_before_before": [[1441.5, 429.71, 1483.371, 557.3199999999999, 0.34033]], "average_area": [40794.528893818206], "iou_threshold": 0.3, "iteration": 18, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[672.78, 433.93, 746.423, 656.86, 0.43969], [1450.0, 429.71, 1491.871, 557.3199999999999, 1.0982]], "detections_before": [[1450.0, 429.71, 1491.871, 557.3199999999999, 0.9037]], "detections_before_before": [[1443.8, 432.91, 1488.748, 569.75, 0.70279], [601.19, 446.86, 685.932, 703.09, 1.2662]], "average_area": [38725.18380509759], "iou_threshold": 0.3, "iteration": 19, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "detections_before": [[676.79, 455.86, 740.77, 649.8, 0.80057], [1605.5, 296.57, 1815.62, 928.9300000000001, 0.32427]], "detections_before_before": [[672.78, 433.93, 746.423, 656.86, 0.43969]], "average_area": [31188.62597979776], "iou_threshold": 0.3, "iteration": 20, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[598.82, 364.89, 727.7800000000001, 753.77, 0.45824], [680.04, 461.78, 739.669, 642.67, 0.64739]], "detections_before": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "detections_before_before": [[676.79, 455.86, 740.77, 649.8, 0.80057], [1605.5, 296.57, 1815.62, 928.9300000000001, 0.32427]], "average_area": [31427.564092942466], "iou_threshold": 0.3, "iteration": 21, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[566.69, 419.61, 622.259, 588.32, 0.33601]], "detections_before": [[598.82, 364.89, 727.7800000000001, 753.77, 0.45824], [680.04, 461.78, 739.669, 642.67, 0.64739]], "detections_before_before": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "average_area": [31042.91497519174], "iou_threshold": 0.3, "iteration": 22, "return_matches": [], "return_del_ind": []},
            {"detections": [[689.79, 455.86, 753.77, 649.8, 0.35075]], "detections_before": [[579.94, 451.29, 624.888, 588.13, 0.43089]], "detections_before_before": [[579.94, 451.29, 624.888, 588.13, 0.48921]], "average_area": [19744.05829019198], "iou_threshold": 0.3, "iteration": 23, "return_matches": [], "return_del_ind": []},
            {"detections": [[578.0, 430.92, 633.569, 599.63, 0.34068]], "detections_before": [[579.94, 451.29, 624.888, 588.13, 0.49629]], "detections_before_before": [[1261.6, 446.72, 1295.422, 550.19, 0.63399], [579.94, 451.29, 624.888, 588.13, 0.70894]], "average_area": [28603.579354949135], "iou_threshold": 0.3, "iteration": 24, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[687.71, 463.78, 761.3530000000001, 686.71, 0.41933]], "detections_before": [[687.71, 463.78, 761.3530000000001, 686.71, 0.44973]], "detections_before_before": [[697.44, 460.65, 766.0840000000001, 668.5799999999999, 0.30155]], "average_area": [29521.063616823514], "iou_threshold": 0.3, "iteration": 25, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "detections_before": [[704.08, 429.71, 788.822, 685.94, 0.54247], [1261.6, 449.36, 1293.09, 545.83, 0.47939]], "detections_before_before": [[1261.6, 449.36, 1293.09, 545.83, 0.46005], [704.08, 429.71, 788.822, 685.94, 0.35092]], "average_area": [30395.105006394042], "iou_threshold": 0.3, "iteration": 26, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "detections_before": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "detections_before_before": [[704.08, 429.71, 788.822, 685.94, 0.54247], [1261.6, 449.36, 1293.09, 545.83, 0.47939]], "average_area": [29335.65740728794], "iou_threshold": 0.3, "iteration": 27, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "detections_before": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "detections_before_before": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "average_area": [26716.14553311332], "iou_threshold": 0.3, "iteration": 28, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "detections_before": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "detections_before_before": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "average_area": [28660.89243611884], "iou_threshold": 0.3, "iteration": 29, "return_matches": [], "return_del_ind": []},
            {"detections": [[711.37, 474.58, 780.014, 682.51, 0.65604]], "detections_before": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "detections_before_before": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "average_area": [32979.0562601315], "iou_threshold": 0.3, "iteration": 30, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[702.64, 463.78, 776.283, 686.71, 0.7767], [558.78, 437.53, 679.04, 800.3, 0.44773]], "detections_before": [[711.37, 474.58, 780.014, 682.51, 0.65604]], "detections_before_before": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "average_area": [34626.330485663435], "iou_threshold": 0.3, "iteration": 31, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[558.78, 437.53, 679.04, 800.3, 0.81955]], "detections_before": [[558.78, 437.53, 679.04, 800.3, 0.85414]], "detections_before_before": [[558.78, 437.53, 679.04, 800.3, 0.44773]], "average_area": [31994.71112968957], "iou_threshold": 0.3, "iteration": 32, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1480.3, 413.27, 1600.56, 776.04, 0.87614]], "detections_before": [[1480.3, 413.27, 1600.56, 776.04, 0.80295], [643.66, 461.78, 703.289, 642.67, 0.74373]], "detections_before_before": [[1480.3, 413.27, 1600.56, 776.04, 0.65959]], "average_area": [33416.426909973314], "iou_threshold": 0.3, "iteration": 0, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "detections_before": [[729.81, 446.86, 771.6809999999999, 574.47, 0.45047], [1255.0, 441.39, 1291.321, 552.35, 0.39539], [454.06, 434.36, 551.552, 728.83, 0.36475]], "detections_before_before": [[454.06, 434.36, 551.552, 728.83, 0.48616], [1254.6, 446.72, 1288.422, 550.19, 0.35682], [657.86, 419.0, 731.503, 641.9300000000001, 0.32016]], "average_area": [41899.645008540414], "iou_threshold": 0.3, "iteration": 1, "return_matches": [[0, 1, 1], [2, 2, 0]], "return_del_ind": [[0, 1, 1], [2, 2, 0]]},
            {"detections": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "detections_before_before": [[729.81, 446.86, 771.6809999999999, 574.47, 0.45047], [1255.0, 441.39, 1291.321, 552.35, 0.39539], [454.06, 434.36, 551.552, 728.83, 0.36475]], "average_area": [43632.14584964385], "iou_threshold": 0.3, "iteration": 2, "return_matches": [[0, 2, 2], [1, 0, 1], [2, 1, 0]], "return_del_ind": [[0, 2, 2], [1, 0, 1], [2, 1, 0]]},
            {"detections": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "detections_before": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.52236], [729.81, 446.86, 771.6809999999999, 574.47, 0.39156], [460.48, 442.1, 551.376, 716.79, 0.33475]], "average_area": [42257.88713731571], "iou_threshold": 0.3, "iteration": 3, "return_matches": [[0, 2, 1], [1, 1, 0], [2, 0, 2]], "return_del_ind": [[0, 2, 1], [1, 1, 0], [2, 0, 2]]},
            {"detections": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "detections_before": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "detections_before_before": [[460.48, 442.1, 551.376, 716.79, 0.51467], [1254.6, 446.72, 1288.422, 550.19, 0.44909], [729.0, 457.0, 768.0, 576.0, 0.36282]], "average_area": [40780.42096181836], "iou_threshold": 0.3, "iteration": 4, "return_matches": [[0, 1, 1], [1, 0, 2]], "return_del_ind": [[0, 1, 1], [1, 0, 2]]},
            {"detections": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "detections_before": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "detections_before_before": [[729.0, 449.0, 768.0, 568.0, 0.57287], [1254.6, 446.72, 1288.422, 550.19, 0.51015], [460.48, 442.1, 551.376, 716.79, 0.49628]], "average_area": [41242.063343166206], "iou_threshold": 0.3, "iteration": 5, "return_matches": [[0, 1, 0], [1, 0, 1]], "return_del_ind": [[0, 1, 0], [1, 0, 1]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "detections_before": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "detections_before_before": [[1255.1, 449.36, 1286.59, 545.83, 0.73431], [729.0, 449.0, 768.0, 568.0, 0.57074]], "average_area": [44227.14630929491], "iou_threshold": 0.3, "iteration": 6, "return_matches": [[0, 1, 0], [1, 0, 1]], "return_del_ind": [[0, 1, 0], [1, 0, 1]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [729.81, 446.86, 771.6809999999999, 574.47, 0.52778], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "detections_before_before": [[729.0, 449.0, 768.0, 568.0, 0.55511], [1254.6, 446.72, 1288.422, 550.19, 0.39739], [478.71, 493.64, 552.353, 716.5699999999999, 0.33771]], "average_area": [44914.9080941074], "iou_threshold": 0.3, "iteration": 7, "return_matches": [[0, 0, 1], [1, 1, 0]], "return_del_ind": [[0, 0, 1], [1, 1, 0]]},
            {"detections": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132], [729.81, 446.86, 771.6809999999999, 574.47, 0.33441]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [729.81, 446.86, 771.6809999999999, 574.47, 0.52778], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.5207], [729.81, 446.86, 771.6809999999999, 574.47, 0.49008]], "average_area": [46961.41488824861], "iou_threshold": 0.3, "iteration": 8, "return_matches": [[0, 0, 0], [2, 1, 1]], "return_del_ind": [[0, 0, 0], [2, 1, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "detections_before": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.9907], [481.15, 464.01, 565.8919999999999, 720.24, 0.45687]], "average_area": [35233.49032028802], "iou_threshold": 0.3, "iteration": 9, "return_matches": [[0, 1, 1]], "return_del_ind": [[0, 1, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "detections_before_before": [[1254.6, 446.72, 1288.422, 550.19, 0.89436], [478.86, 460.48, 569.756, 735.1700000000001, 0.48132]], "average_area": [33987.1930667672], "iou_threshold": 0.3, "iteration": 10, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.53576]], "average_area": [34807.352144271434], "iou_threshold": 0.3, "iteration": 11, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[473.76, 454.06, 571.252, 748.53, 0.75093]], "detections_before": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.5274]], "average_area": [34988.46766943957], "iou_threshold": 0.3, "iteration": 12, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[478.86, 442.1, 569.756, 716.79, 1.1515]], "detections_before": [[473.76, 454.06, 571.252, 748.53, 0.75093]], "detections_before_before": [[465.47, 444.35, 570.03, 760.03, 0.69666]], "average_area": [32697.497424139863], "iou_threshold": 0.3, "iteration": 13, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.57398]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.39383]], "average_area": [38227.43009144287], "iou_threshold": 0.3, "iteration": 14, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.57398]], "average_area": [37521.95254768199], "iou_threshold": 0.3, "iteration": 15, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.0, 457.0, 760.0, 576.0, 0.61912]], "detections_before": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.64348]], "average_area": [37933.0836814937], "iou_threshold": 0.3, "iteration": 16, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[721.0, 457.0, 760.0, 576.0, 0.34328]], "detections_before": [[721.0, 457.0, 760.0, 576.0, 0.61912]], "detections_before_before": [[721.23, 455.43, 763.101, 583.04, 0.3272]], "average_area": [36387.005629979845], "iou_threshold": 0.3, "iteration": 17, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1450.0, 429.71, 1491.871, 557.3199999999999, 0.9037]], "detections_before": [[1443.8, 432.91, 1488.748, 569.75, 0.70279], [601.19, 446.86, 685.932, 703.09, 1.2662]], "detections_before_before": [[1441.5, 429.71, 1483.371, 557.3199999999999, 0.34033]], "average_area": [40794.528893818206], "iou_threshold": 0.3, "iteration": 18, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[672.78, 433.93, 746.423, 656.86, 0.43969], [1450.0, 429.71, 1491.871, 557.3199999999999, 1.0982]], "detections_before": [[1450.0, 429.71, 1491.871, 557.3199999999999, 0.9037]], "detections_before_before": [[1443.8, 432.91, 1488.748, 569.75, 0.70279], [601.19, 446.86, 685.932, 703.09, 1.2662]], "average_area": [38725.18380509759], "iou_threshold": 0.3, "iteration": 19, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "detections_before": [[676.79, 455.86, 740.77, 649.8, 0.80057], [1605.5, 296.57, 1815.62, 928.9300000000001, 0.32427]], "detections_before_before": [[672.78, 433.93, 746.423, 656.86, 0.43969]], "average_area": [31188.62597979776], "iou_threshold": 0.3, "iteration": 20, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[598.82, 364.89, 727.7800000000001, 753.77, 0.45824], [680.04, 461.78, 739.669, 642.67, 0.64739]], "detections_before": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "detections_before_before": [[676.79, 455.86, 740.77, 649.8, 0.80057], [1605.5, 296.57, 1815.62, 928.9300000000001, 0.32427]], "average_area": [31427.564092942466], "iou_threshold": 0.3, "iteration": 21, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[566.69, 419.61, 622.259, 588.32, 0.33601]], "detections_before": [[598.82, 364.89, 727.7800000000001, 753.77, 0.45824], [680.04, 461.78, 739.669, 642.67, 0.64739]], "detections_before_before": [[680.04, 461.78, 739.669, 642.67, 0.5207]], "average_area": [31042.91497519174], "iou_threshold": 0.3, "iteration": 22, "return_matches": [], "return_del_ind": []},
            {"detections": [[689.79, 455.86, 753.77, 649.8, 0.35075]], "detections_before": [[579.94, 451.29, 624.888, 588.13, 0.43089]], "detections_before_before": [[579.94, 451.29, 624.888, 588.13, 0.48921]], "average_area": [19744.05829019198], "iou_threshold": 0.3, "iteration": 23, "return_matches": [], "return_del_ind": []},
            {"detections": [[578.0, 430.92, 633.569, 599.63, 0.34068]], "detections_before": [[579.94, 451.29, 624.888, 588.13, 0.49629]], "detections_before_before": [[1261.6, 446.72, 1295.422, 550.19, 0.63399], [579.94, 451.29, 624.888, 588.13, 0.70894]], "average_area": [28603.579354949135], "iou_threshold": 0.3, "iteration": 24, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[687.71, 463.78, 761.3530000000001, 686.71, 0.41933]], "detections_before": [[687.71, 463.78, 761.3530000000001, 686.71, 0.44973]], "detections_before_before": [[697.44, 460.65, 766.0840000000001, 668.5799999999999, 0.30155]], "average_area": [29521.063616823514], "iou_threshold": 0.3, "iteration": 25, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "detections_before": [[704.08, 429.71, 788.822, 685.94, 0.54247], [1261.6, 449.36, 1293.09, 545.83, 0.47939]], "detections_before_before": [[1261.6, 449.36, 1293.09, 545.83, 0.46005], [704.08, 429.71, 788.822, 685.94, 0.35092]], "average_area": [30395.105006394042], "iou_threshold": 0.3, "iteration": 26, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "detections_before": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "detections_before_before": [[704.08, 429.71, 788.822, 685.94, 0.54247], [1261.6, 449.36, 1293.09, 545.83, 0.47939]], "average_area": [29335.65740728794], "iou_threshold": 0.3, "iteration": 27, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "detections_before": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "detections_before_before": [[702.64, 448.86, 776.283, 671.79, 0.38424]], "average_area": [26716.14553311332], "iou_threshold": 0.3, "iteration": 28, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "detections_before": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "detections_before_before": [[717.79, 405.34, 808.6859999999999, 680.03, 0.39318]], "average_area": [28660.89243611884], "iou_threshold": 0.3, "iteration": 29, "return_matches": [], "return_del_ind": []},
            {"detections": [[711.37, 474.58, 780.014, 682.51, 0.65604]], "detections_before": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "detections_before_before": [[711.37, 460.65, 780.014, 668.5799999999999, 0.57543], [710.14, 394.97, 807.632, 689.44, 0.46919]], "average_area": [32979.0562601315], "iou_threshold": 0.3, "iteration": 30, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[702.64, 463.78, 776.283, 686.71, 0.7767], [558.78, 437.53, 679.04, 800.3, 0.44773]], "detections_before": [[711.37, 474.58, 780.014, 682.51, 0.65604]], "detections_before_before": [[702.64, 463.78, 776.283, 686.71, 0.60321]], "average_area": [34626.330485663435], "iou_threshold": 0.3, "iteration": 31, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[558.78, 437.53, 679.04, 800.3, 0.81955]], "detections_before": [[558.78, 437.53, 679.04, 800.3, 0.85414]], "detections_before_before": [[558.78, 437.53, 679.04, 800.3, 0.44773]], "average_area": [31994.71112968957], "iou_threshold": 0.3, "iteration": 32, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1255.1, 449.36, 1286.59, 545.83, 0.32619]], "detections_before": [[1248.6, 442.87, 1280.09, 539.34, 1.0996]], "detections_before_before": [[1254.6, 439.76, 1288.422, 543.23, 0.51318]], "average_area": [33854.387728327434], "iou_threshold": 0.3, "iteration": 33, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1248.6, 449.36, 1280.09, 545.83, 0.48608]], "detections_before": [[1255.1, 449.36, 1286.59, 545.83, 0.32619]], "detections_before_before": [[1248.6, 442.87, 1280.09, 539.34, 1.0996]], "average_area": [34841.36240664116], "iou_threshold": 0.3, "iteration": 34, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[532.85, 454.06, 556.4730000000001, 526.929, 0.42961]], "detections_before": [[534.0, 460.48, 555.974, 528.402, 0.54386]], "detections_before_before": [[534.0, 460.48, 555.974, 528.402, 0.7366]], "average_area": [31360.703525707064], "iou_threshold": 0.3, "iteration": 35, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[534.0, 460.48, 555.974, 528.402, 0.78249]], "detections_before": [[532.85, 454.06, 556.4730000000001, 526.929, 0.42961]], "detections_before_before": [[534.0, 460.48, 555.974, 528.402, 0.54386]], "average_area": [30832.359653102012], "iou_threshold": 0.3, "iteration": 36, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[534.0, 460.48, 555.974, 528.402, 1.1785]], "detections_before": [[534.0, 460.48, 555.974, 528.402, 0.78249]], "detections_before_before": [[532.85, 454.06, 556.4730000000001, 526.929, 0.42961]], "average_area": [31846.285434349862], "iou_threshold": 0.3, "iteration": 37, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[780.76, 338.9, 909.72, 727.78, 0.34854]], "detections_before": [[780.76, 338.9, 909.72, 727.78, 0.59085]], "detections_before_before": [[780.76, 338.9, 909.72, 727.78, 0.38443]], "average_area": [28492.686209752963], "iou_threshold": 0.3, "iteration": 38, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[780.76, 338.9, 909.72, 727.78, 0.3336]], "detections_before": [[780.76, 338.9, 909.72, 727.78, 0.34854]], "detections_before_before": [[780.76, 338.9, 909.72, 727.78, 0.59085]], "average_area": [29257.66140513454], "iou_threshold": 0.3, "iteration": 39, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[673.0, 321.0, 832.0, 800.0, 0.44092]], "detections_before": [[524.81, 455.88, 546.784, 523.802, 0.66566]], "detections_before_before": [[529.4, 460.48, 551.374, 528.402, 0.39138], [1212.8, 446.72, 1246.6219999999998, 550.19, 0.31598]], "average_area": [40305.19371358487], "iou_threshold": 0.3, "iteration": 40, "return_matches": [], "return_del_ind": []},
            {"detections": [[524.81, 455.88, 546.784, 523.802, 0.52751]], "detections_before": [[673.0, 321.0, 832.0, 800.0, 0.44092]], "detections_before_before": [[524.81, 455.88, 546.784, 523.802, 0.66566]], "average_area": [42995.54322102978], "iou_threshold": 0.3, "iteration": 41, "return_matches": [], "return_del_ind": []},
            {"detections": [[1209.6, 449.36, 1241.09, 545.83, 0.31801]], "detections_before": [[524.81, 455.88, 546.784, 523.802, 0.52751]], "detections_before_before": [[673.0, 321.0, 832.0, 800.0, 0.44092]], "average_area": [42189.70037304218], "iou_threshold": 0.3, "iteration": 42, "return_matches": [], "return_del_ind": []},
            {"detections": [[1205.8, 446.72, 1239.6219999999998, 550.19, 0.48665], [497.0, 449.0, 536.0, 568.0, 0.38349], [728.78, 390.88, 857.74, 779.76, 0.35683]], "detections_before": [[1209.6, 449.36, 1241.09, 545.83, 0.31801]], "detections_before_before": [[524.81, 455.88, 546.784, 523.802, 0.52751]], "average_area": [41879.3692563351], "iou_threshold": 0.3, "iteration": 43, "return_matches": [], "return_del_ind": []},
            {"detections": [[1209.6, 449.36, 1241.09, 545.83, 0.50404], [498.3, 446.86, 540.171, 574.47, 0.39774], [717.57, 329.43, 865.86, 776.29, 0.42003]], "detections_before": [[1205.8, 446.72, 1239.6219999999998, 550.19, 0.48665], [497.0, 449.0, 536.0, 568.0, 0.38349], [728.78, 390.88, 857.74, 779.76, 0.35683]], "detections_before_before": [[1209.6, 449.36, 1241.09, 545.83, 0.31801]], "average_area": [39239.14569611801], "iou_threshold": 0.3, "iteration": 44, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[717.57, 329.43, 865.86, 776.29, 0.57229], [497.0, 449.0, 536.0, 568.0, 0.3493]], "detections_before": [[1209.6, 449.36, 1241.09, 545.83, 0.50404], [498.3, 446.86, 540.171, 574.47, 0.39774], [717.57, 329.43, 865.86, 776.29, 0.42003]], "detections_before_before": [[1205.8, 446.72, 1239.6219999999998, 550.19, 0.48665], [497.0, 449.0, 536.0, 568.0, 0.38349], [728.78, 390.88, 857.74, 779.76, 0.35683]], "average_area": [39836.0147023516], "iou_threshold": 0.3, "iteration": 45, "return_matches": [[0, 2, 2], [1, 1, 1]], "return_del_ind": [[0, 2, 2], [1, 1, 1]]},
            {"detections": [[705.0, 321.0, 864.0, 800.0, 0.60604], [497.0, 449.0, 536.0, 568.0, 0.56005]], "detections_before": [[717.57, 329.43, 865.86, 776.29, 0.57229], [497.0, 449.0, 536.0, 568.0, 0.3493]], "detections_before_before": [[1209.6, 449.36, 1241.09, 545.83, 0.50404], [498.3, 446.86, 540.171, 574.47, 0.39774], [717.57, 329.43, 865.86, 776.29, 0.42003]], "average_area": [39378.71188770526], "iou_threshold": 0.3, "iteration": 46, "return_matches": [[0, 0, 2], [1, 1, 1]], "return_del_ind": [[0, 0, 2], [1, 1, 1]]},
            {"detections": [[498.3, 446.86, 540.171, 574.47, 0.70425]], "detections_before": [[705.0, 321.0, 864.0, 800.0, 0.60604], [497.0, 449.0, 536.0, 568.0, 0.56005]], "detections_before_before": [[717.57, 329.43, 865.86, 776.29, 0.57229], [497.0, 449.0, 536.0, 568.0, 0.3493]], "average_area": [41126.6642030188], "iou_threshold": 0.3, "iteration": 47, "return_matches": [[0, 1, 1]], "return_del_ind": [[0, 1, 1]]},
            {"detections": [[497.0, 449.0, 536.0, 568.0, 0.62453], [875.57, 429.71, 960.312, 685.94, 0.53376], [705.0, 321.0, 864.0, 800.0, 0.49236]], "detections_before": [[498.3, 446.86, 540.171, 574.47, 0.70425]], "detections_before_before": [[705.0, 321.0, 864.0, 800.0, 0.60604], [497.0, 449.0, 536.0, 568.0, 0.56005]], "average_area": [42985.86866180526], "iou_threshold": 0.3, "iteration": 48, "return_matches": [[0, 0, 1]], "return_del_ind": [[0, 0, 1]]},
            {"detections": [[497.0, 449.0, 536.0, 568.0, 1.118], [705.0, 321.0, 864.0, 800.0, 0.48164]], "detections_before": [[497.0, 449.0, 536.0, 568.0, 0.62453], [875.57, 429.71, 960.312, 685.94, 0.53376], [705.0, 321.0, 864.0, 800.0, 0.49236]], "detections_before_before": [[498.3, 446.86, 540.171, 574.47, 0.70425]], "average_area": [43192.34384876516], "iou_threshold": 0.3, "iteration": 49, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[892.72, 429.71, 977.462, 685.94, 0.60489], [705.0, 321.0, 864.0, 800.0, 0.36742]], "detections_before": [[705.0, 321.0, 864.0, 800.0, 0.48164]], "detections_before_before": [[875.57, 429.71, 960.312, 685.94, 0.53376], [705.0, 321.0, 864.0, 800.0, 0.49236]], "average_area": [33611.445346253226], "iou_threshold": 0.3, "iteration": 50, "return_matches": [[1, 0, 1]], "return_del_ind": [[1, 0, 1]]},
            {"detections": [[892.72, 429.71, 977.462, 685.94, 1.0319]], "detections_before": [[892.72, 429.71, 977.462, 685.94, 0.60489], [705.0, 321.0, 864.0, 800.0, 0.36742]], "detections_before_before": [[705.0, 321.0, 864.0, 800.0, 0.48164]], "average_area": [33631.30541697515], "iou_threshold": 0.3, "iteration": 51, "return_matches": [], "return_del_ind": []},
            {"detections": [[892.72, 429.71, 977.462, 685.94, 0.70477]], "detections_before": [[892.72, 429.71, 977.462, 685.94, 1.0319]], "detections_before_before": [[892.72, 429.71, 977.462, 685.94, 0.60489], [705.0, 321.0, 864.0, 800.0, 0.36742]], "average_area": [37881.73192474145], "iou_threshold": 0.3, "iteration": 52, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[938.34, 423.72, 1029.236, 698.4100000000001, 0.41726], [469.67, 451.29, 514.618, 588.13, 0.40819], [505.0, 449.0, 544.0, 568.0, 0.51051]], "detections_before": [[938.34, 423.72, 1029.236, 698.4100000000001, 0.68982]], "detections_before_before": [[858.74, 364.89, 987.7, 753.77, 0.6961]], "average_area": [62483.30821791463], "iou_threshold": 0.3, "iteration": 53, "return_matches": [], "return_del_ind": []},
            {"detections": [[505.0, 449.0, 544.0, 568.0, 0.3979], [464.01, 455.43, 505.881, 583.04, 0.35908], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.30725]], "detections_before": [[469.67, 451.29, 514.618, 588.13, 0.40819], [505.0, 449.0, 544.0, 568.0, 0.51051]], "detections_before_before": [[938.34, 423.72, 1029.236, 698.4100000000001, 0.68982]], "average_area": [64174.110696734395], "iou_threshold": 0.3, "iteration": 54, "return_matches": [], "return_del_ind": []},
            {"detections": [[464.01, 455.43, 505.881, 583.04, 0.34395], [737.0, 353.0, 896.0, 832.0, 0.40197]], "detections_before": [[505.0, 449.0, 544.0, 568.0, 0.3979], [464.01, 455.43, 505.881, 583.04, 0.35908], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.30725]], "detections_before_before": [[469.67, 451.29, 514.618, 588.13, 0.40819], [505.0, 449.0, 544.0, 568.0, 0.51051]], "average_area": [56511.03043192209], "iou_threshold": 0.3, "iteration": 55, "return_matches": [[0, 1, 0]], "return_del_ind": [[0, 1, 0]]},
            {"detections": [[513.0, 449.0, 552.0, 568.0, 0.37197]], "detections_before": [[464.01, 455.43, 505.881, 583.04, 0.34395], [737.0, 353.0, 896.0, 832.0, 0.40197]], "detections_before_before": [[505.0, 449.0, 544.0, 568.0, 0.3979], [464.01, 455.43, 505.881, 583.04, 0.35908], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.30725]], "average_area": [55229.5371756217], "iou_threshold": 0.3, "iteration": 56, "return_matches": [], "return_del_ind": []},
            {"detections": [[505.0, 449.0, 544.0, 568.0, 0.39243]], "detections_before": [[513.0, 449.0, 552.0, 568.0, 0.37197]], "detections_before_before": [[464.01, 455.43, 505.881, 583.04, 0.34395], [737.0, 353.0, 896.0, 832.0, 0.40197]], "average_area": [54724.16330952654], "iou_threshold": 0.3, "iteration": 57, "return_matches": [], "return_del_ind": []},
            {"detections": [[755.53, 309.67, 926.01, 823.1200000000001, 0.46075]], "detections_before": [[769.0, 353.0, 928.0, 832.0, 0.37895]], "detections_before_before": [[769.0, 353.0, 928.0, 832.0, 0.54118]], "average_area": [49865.200217524354], "iou_threshold": 0.3, "iteration": 58, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[1153.0, 433.0, 1192.0, 552.0, 0.48299]], "detections_before": [[755.53, 309.67, 926.01, 823.1200000000001, 0.46075]], "detections_before_before": [[769.0, 353.0, 928.0, 832.0, 0.37895]], "average_area": [51701.48161951506], "iou_threshold": 0.3, "iteration": 59, "return_matches": [], "return_del_ind": []},
            {"detections": [[1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.31112], [755.53, 309.67, 926.01, 823.1200000000001, 0.50555]], "detections_before": [[1153.0, 433.0, 1192.0, 552.0, 0.48299]], "detections_before_before": [[755.53, 309.67, 926.01, 823.1200000000001, 0.46075]], "average_area": [52711.85334512396], "iou_threshold": 0.3, "iteration": 60, "return_matches": [], "return_del_ind": []},
            {"detections": [[572.25, 454.06, 620.496, 600.8, 0.42117], [1153.0, 433.0, 1192.0, 552.0, 0.41303], [755.53, 343.97, 926.01, 857.4200000000001, 0.59531]], "detections_before": [[1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.31112], [755.53, 309.67, 926.01, 823.1200000000001, 0.50555]], "detections_before_before": [[1153.0, 433.0, 1192.0, 552.0, 0.48299]], "average_area": [48711.517890507304], "iou_threshold": 0.3, "iteration": 61, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [[572.25, 454.06, 620.496, 600.8, 0.39443], [505.0, 449.0, 544.0, 568.0, 0.34845], [1153.0, 433.0, 1192.0, 552.0, 0.56941]], "detections_before": [[572.25, 454.06, 620.496, 600.8, 0.42117], [1153.0, 433.0, 1192.0, 552.0, 0.41303], [755.53, 343.97, 926.01, 857.4200000000001, 0.59531]], "detections_before_before": [[1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.31112], [755.53, 309.67, 926.01, 823.1200000000001, 0.50555]], "average_area": [47885.52422544819], "iou_threshold": 0.3, "iteration": 62, "return_matches": [[2, 1, 0]], "return_del_ind": [[2, 1, 0]]},
            {"detections": [[1153.0, 433.0, 1192.0, 552.0, 0.31442], [896.71, 329.43, 1045.0, 776.29, 0.31669]], "detections_before": [[572.25, 454.06, 620.496, 600.8, 0.39443], [505.0, 449.0, 544.0, 568.0, 0.34845], [1153.0, 433.0, 1192.0, 552.0, 0.56941]], "detections_before_before": [[572.25, 454.06, 620.496, 600.8, 0.42117], [1153.0, 433.0, 1192.0, 552.0, 0.41303], [755.53, 343.97, 926.01, 857.4200000000001, 0.59531]], "average_area": [51242.19921113908], "iou_threshold": 0.3, "iteration": 63, "return_matches": [[0, 2, 1]], "return_del_ind": [[0, 2, 1]]},
            {"detections": [[571.03, 454.91, 622.81, 612.25, 0.31746], [505.0, 441.0, 544.0, 560.0, 0.37783]], "detections_before": [[1153.0, 433.0, 1192.0, 552.0, 0.31442], [896.71, 329.43, 1045.0, 776.29, 0.31669]], "detections_before_before": [[572.25, 454.06, 620.496, 600.8, 0.39443], [505.0, 449.0, 544.0, 568.0, 0.34845], [1153.0, 433.0, 1192.0, 552.0, 0.56941]], "average_area": [52520.60098107217], "iou_threshold": 0.3, "iteration": 64, "return_matches": [], "return_del_ind": []},
            {"detections": [[566.69, 453.55, 622.259, 622.26, 0.551], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.86818]], "detections_before": [[571.03, 454.91, 622.81, 612.25, 0.53513]], "detections_before_before": [[571.03, 454.91, 622.81, 612.25, 0.42003]], "average_area": [51055.32089337418], "iou_threshold": 0.3, "iteration": 65, "return_matches": [[0, 0, 0]], "return_del_ind": [[0, 0, 0]]},
            {"detections": [[789.83, 309.67, 960.3100000000001, 823.1200000000001, 0.90592], [570.91, 449.65, 630.539, 630.54, 0.62052], [549.75, 455.43, 570.185, 518.736, 0.56116], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.34994]], "detections_before": [[566.69, 453.55, 622.259, 622.26, 0.551], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.86818]], "detections_before_before": [[571.03, 454.91, 622.81, 612.25, 0.53513]], "average_area": [50520.77966317534], "iou_threshold": 0.3, "iteration": 66, "return_matches": [[1, 0, 0]], "return_del_ind": [[1, 0, 0]]},
            {"detections": [], "detections_before": [[566.69, 453.55, 622.259, 622.26, 0.551], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.86818]], "detections_before_before": [[571.03, 454.91, 622.81, 612.25, 0.53513]], "average_area": [50520.77966317534], "iou_threshold": 0.3, "iteration": 66, "return_matches": [], "return_del_ind": None},
            {"detections": [[789.83, 309.67, 960.3100000000001, 823.1200000000001, 0.90592], [570.91, 449.65, 630.539, 630.54, 0.62052], [549.75, 455.43, 570.185, 518.736, 0.56116], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.34994]], "detections_before": [], "detections_before_before": [[571.03, 454.91, 622.81, 612.25, 0.53513]], "average_area": [50520.77966317534], "iou_threshold": 0.3, "iteration": 66, "return_matches": [], "return_del_ind": None},
            {"detections": [[789.83, 309.67, 960.3100000000001, 823.1200000000001, 0.90592], [570.91, 449.65, 630.539, 630.54, 0.62052], [549.75, 455.43, 570.185, 518.736, 0.56116], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.34994]], "detections_before": [[566.69, 453.55, 622.259, 622.26, 0.551], [1149.9, 429.71, 1191.7710000000002, 557.3199999999999, 0.86818]], "detections_before_before": [], "average_area": [50520.77966317534], "iou_threshold": 0.3, "iteration": 66, "return_matches": [], "return_del_ind": None},
        ]

        for t in test_data:
            detections = list(map(lambda x: np.array(x), t['detections']))
            detections_before = list(map(lambda x: np.array(x), t['detections_before']))
            detections_before_before = list(map(lambda x: np.array(x), t['detections_before_before']))
            average_area = list(map(lambda x: np.array(x), t['average_area']))
            ret = association.find_new_trackers_2(detections, detections_before, detections_before_before,
                                                               average_area, t['iou_threshold'])
            if len(detections) > 0 and len(detections_before) > 0 and len(detections_before_before) > 0:
                self.assertListEqual(t['return_matches'], ret[0].tolist())
                self.assertListEqual(t['return_del_ind'], ret[1].tolist())
            else:
                self.assertListEqual(t['return_matches'], ret.tolist())

if __name__ == '__main__':
    unittest.main()
